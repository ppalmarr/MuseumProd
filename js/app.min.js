!function(){"use strict";let e=document.querySelector(".link--exposition"),t=document.querySelector(".list-exposition"),n=document.querySelector(".list-exposition-mobile"),o=document.querySelector(".item--expostion-mobile"),s=document.querySelector(".link--event-mobile"),i=document.querySelector(".list-events-mobile"),r=document.querySelector(".item--event-mobile"),c=document.querySelector(".page__body");const a=()=>{t.classList.toggle("_active")},l=()=>{n.classList.toggle("_active"),o.classList.toggle("_active"),c.classList.toggle("_lock"),r.classList.contains("_active")&&(i.classList.toggle("_active"),r.classList.toggle("_active"))};var d,u,m,v;e.addEventListener("click",(t=>{t.preventDefault(),t.stopPropagation(),a(),l(),e.classList.toggle("_active")})),s.addEventListener("click",(e=>{e.preventDefault(),e.stopPropagation(),i.classList.toggle("_active"),r.classList.toggle("_active"),c.classList.toggle("_lock"),o.classList.contains("_active")&&(n.classList.toggle("_active"),o.classList.toggle("_active")),s.classList.toggle("_active")})),document.addEventListener("click",(o=>{let r=o.target,c=r==t||t.contains(r),d=r==n||n.contains(r),u=r==e,m=t.classList.contains("_active"),v=n.classList.contains("_active"),w=r==i||i.contains(r),g=r==s,L=i.classList.contains("_active");c||u||!m||(e.classList.toggle("_active"),a()),d||u||!v||l(),w||g||!L||(s.classList.toggle("_active"),a())})),new Swiper(".swiper",{watchOverflow:!0,loop:!0,loopFillGroupWithBlank:!0,effect:"coverflow",coverflowEffect:{rotate:30,stretch:0,slideShadows:!0},breakpoints:{320:{slidesPerView:1,spaceBetween:10,slidesPerGroup:1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}},767.98:{slidesPerView:3,spaceBetween:0,slidesPerGroup:1,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}}),document.addEventListener("DOMContentLoaded",(function(e){window.onresize=function(){window.screen.width<768?d.setCenter([47.205872355234,38.93921813258074]):window.screen.width>768&&d.setCenter([47.20587137631812,38.93814957284925])}})),m=function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)},(v=new Image).onload=v.onerror=function(){m(2==v.height)},v.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA",ymaps.ready((function(){d=new ymaps.Map("yandex-map",{center:[47.20587137631812,38.93814957284925],zoom:18,controls:["trafficControl"],behaviors:["drag"]}),u=new ymaps.Placemark([47.20599349972225,38.93911441581672],{hintContent:"Политехнический музей",balloonContent:"Россия, Ростовская обл., г.<br> Таганрог, ул. Чехова 22,<br> корп. «Б», 2-й подъезд."},{iconLayout:"default#image",iconImageHref:"img/icon_map_address_museum.svg",iconImageSize:[66,80]}),d.geoObjects.add(u),window.screen.width<768?d.setCenter([47.205872355234,38.93921813258074]):window.screen.width>768&&d.setCenter([47.20587137631812,38.93814957284925])})),function(){let e=document.querySelector(".events__link-calendar > a"),t=document.querySelector(".events__link-registration > a");document.addEventListener("DOMContentLoaded",(function(n){window.screen.width<768?(e.textContent="МЕРОПРИЯТИЯ",t.textContent="ЗАПИСЬ"):window.screen.width>768&&(e.textContent="КАЛЕНДАРЬ МЕРОПРИЯТИЙ",t.textContent="ЗАПИСАТЬСЯ НА ЭКСКУРСИЮ ИЛИ МЕРОПРИЯТИЕ"),window.addEventListener("resize",(n=>{window.screen.width<768?(e.textContent="МЕРОПРИЯТИЯ",t.textContent="ЗАПИСЬ"):window.screen.width>768&&(e.textContent="КАЛЕНДАРЬ МЕРОПРИЯТИЙ",t.textContent="ЗАПИСАТЬСЯ НА ЭКСКУРСИЮ ИЛИ МЕРОПРИЯТИЕ")}),!1)}))}(),function(){const e=document.querySelector(".museum-contacts__btn-form"),t=document.querySelector(".wrapper-modal"),n=document.querySelector(".museum-contacts-form__close");e.addEventListener("click",(function(e){e.preventDefault(),t.classList.toggle("visually-hidden")})),n.addEventListener("click",(function(e){e.preventDefault(),t.classList.toggle("visually-hidden"),t.classList.remove("wrapper-feedback-error")})),window.addEventListener("keydown",(function(e){27===e.keyCode&&(t.classList.contains("visually-hidden")||(e.preventDefault(),t.classList.add("visually-hidden"),t.classList.remove("wrapper-feedback-error")))}))}(),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("question-form-desktop"),t=document.querySelector(".wrapper-modal");e.addEventListener("submit",(function(n){n.preventDefault();let o=function(e){let t=0,n=e.querySelectorAll(".req");for(let e=0;e<n.length;e++){const o=n[e];i(o),o.classList.contains("email")&&(r(o)||""===o.value)&&(s(o),t++)}return t}(e);function s(e){e.parentElement.classList.add("error"),e.classList.add("error")}function i(e){e.parentElement.classList.remove("error"),e.classList.remove("error")}function r(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}0===o?(t.classList.toggle("visually-hidden"),alert("Форма отправлена"),n.target.reset()):alert("Не заполнены обязательные поля")}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form-mobile-question");e.addEventListener("submit",(function(t){t.preventDefault();let n=function(e){let t=0,n=e.querySelectorAll(".req");for(let e=0;e<n.length;e++){const r=n[e];s(r),r.classList.contains("email")&&(i(r)||""===r.value)&&(o(r),t++)}return t}(e);function o(e){e.parentElement.classList.add("error"),e.classList.add("error")}function s(e){e.parentElement.classList.remove("error"),e.classList.remove("error")}function i(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}0===n?(alert("Форма отправлена"),t.target.reset()):alert("Не заполнены обязательные поля")}))}))}();